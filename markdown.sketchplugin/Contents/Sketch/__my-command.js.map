{"version":3,"sources":["webpack://exports/webpack/bootstrap","webpack://exports/./src/my-command.js","webpack://exports/external \"sketch\""],"names":["sketch","require","console","log","context","selection","selection1","selection2","getSelectedDocument","selectedLayers","layers","length","UI","message","text","LayerTextArr","masterLayerWidth","masterLayerHeight","masterLayerX","masterLayerY","recordQueryIndex","i","class","frame","width","height","x","y","split","setLineHeight","textAlignment","NSTextAlignmentLeft","setTextBehaviour","setWidth","setX","setY","immutableColor","MSImmutableColor","colorWithSVGString_","color","MSColor","alloc","initWithImmutableObject_","setTextColor","sketchObject","addAttribute_value_forRange","NSStrikethroughStyleAttributeName","NSUnderlineStyleNone","NSMakeRange","UnoldFont","NSFontManager","sharedFontManager","convertFont_toHaveTrait","font","NSUnboldFontMask","addAttribute_value_forRange_","NSFontAttributeName","j","main","boldArr","h1BoldFont","NSBoldFontMask","indexOf","push","m","colorArr","l","NSForegroundColorAttributeName","NSColor","colorWithRed_green_blue_alpha","underArr","k","NSUnderlineStyleSingle","rowStr","layer","markEnd","keyValue","strInAllStart","strInAllEnd","substring","setHeading1","setHeading2","setDesc","start","end","h1FontSize","convertFont_toSize","h2BoldFont","h2FontSize","descBoldFont","descFontSize"],"mappings":"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","file":"__my-command.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/my-command.js\");\n","var sketch = require('sketch')\n\nexport default function () {\n\n\n  console.log(context.selection)\n  var selection1 = context.selection //当前选中图层的数组，用于设置样式\n  var selection2 = sketch.getSelectedDocument().selectedLayers.layers//当前选中图层的数组，长度与 selection1 是一样的，用于解析每行的字符串\n\n  if (selection2.length == 0) {\n    sketch.UI.message('⚠️请先选中文本');\n    return\n  }\n\n  console.log(selection2[0].text)\n  var LayerTextArr\n  var masterLayerWidth = 0\n  var masterLayerHeight = 0\n  var masterLayerX = -1\n  var masterLayerY = -1\n  var recordQueryIndex = 0;\n\n  // 如果选中图层中存在非文本图层，则获取其宽度，存在多个时取宽度最大的，此宽度作为文本图层的宽度\n  // 如果选中图层中不存在非文本图层，则忽略\n  for (var i = 0; i < selection2.length; i++) {\n\n    console.log(\"=============================i: \")\n    console.log(i)\n    if (selection1[i].class() != \"MSTextLayer\") {\n      console.log('selection1[i].class()!=\"MSTextLayer\"')\n      if (selection1[i].frame().width() > masterLayerWidth) {\n        //取宽度最大的图层作为参考\n        masterLayerWidth = selection1[i].frame().width()\n        masterLayerHeight = selection1[i].frame().height()\n        masterLayerX = selection2[i].frame.x\n        masterLayerY = selection2[i].frame.y\n      }\n      continue\n    }\n  }\n\n  for (var i = 0; i < selection2.length; i++) {\n    recordQueryIndex = 0\n    //return\n    //console.log(layer.stringValue())\n    console.log(\"=============================i: \")\n    console.log(i)\n    if (selection1[i].class() != \"MSTextLayer\") {\n      console.log('selection1[i].class()!=\"MSTextLayer\"')\n      continue\n    }\n    LayerTextArr = selection2[i].text.split(\"\\n\") //将文本段落按行进行拆分，获得一个每行字符串的数组\n    console.log(\"LayerTextArr: \")\n    console.log(LayerTextArr)\n    console.log(selection1[i].class())\n\n    //文本全局样式\n    selection1[i].setLineHeight(48) //行高\n    selection1[i].textAlignment = NSTextAlignmentLeft //对齐方式\n    if (masterLayerWidth > 0) {\n      //如果选中的图层中包含非文字图层时 masterLayerWidth 的值才会大于 0\n      selection1[i].setTextBehaviour(1) //设置自动宽度 0 、自动高度 1、固定尺寸 2，如果是自动宽度，则无法设置宽度\n      selection1[i].frame().setWidth(masterLayerWidth) // 宽度\n      //设置文本的位置\n      selection1[i].frame().setX(masterLayerX)\n      selection1[i].frame().setY(masterLayerY+masterLayerHeight+40) //与 master 图层左侧对齐，上边距 = 40\n    }\n    \n    //设置整体文字的颜色\n    var immutableColor = MSImmutableColor.colorWithSVGString_('#333333');\n    var color = MSColor.alloc().initWithImmutableObject_(immutableColor);\n    selection1[i].setTextColor(color)\n\n    //初始化加粗、删除线样式\n    selection2[i].sketchObject.addAttribute_value_forRange(NSStrikethroughStyleAttributeName, NSUnderlineStyleNone, NSMakeRange(0, selection2[i].text.length)); // NSMakeRange 定义设置样式文字位置\n    var UnoldFont = NSFontManager.sharedFontManager().convertFont_toHaveTrait(selection2[i].sketchObject.font(), NSUnboldFontMask);\n    selection2[i].sketchObject.addAttribute_value_forRange_(NSFontAttributeName, UnoldFont, NSMakeRange(0, selection2[i].text.length)); // NSMakeRange 定义设置样式文字位置\n\n    for (var j = 0; j < LayerTextArr.length; j++) {\n      //处理每行字符串的样式,传入单行字符串、此图层的文本段落\n      console.log(\"==========\")\n      //console.log(selection1[i].stringValue())\n      console.log(\"LayerTextArr[j]: \")\n      console.log(LayerTextArr[j])\n      //main(LayerTextArr[j],selection2[i])\n      selection2[i] = main(LayerTextArr[j], selection2[i])\n\n    }\n\n\n    //加粗\n\n    var boldArr = []\n    recordQueryIndex = 0\n\n    console.log(\"**********\")\n    var h1BoldFont = NSFontManager.sharedFontManager().convertFont_toHaveTrait(selection2[i].sketchObject.font(), NSBoldFontMask);\n    while (selection2[i].text.indexOf('**', recordQueryIndex) != -1) {\n\n      console.log(selection2[i].text.indexOf('**', recordQueryIndex))\n      boldArr.push(selection2[i].text.indexOf('**', recordQueryIndex))\n      recordQueryIndex = selection2[i].text.indexOf('**', recordQueryIndex) + 1\n\n    }\n    console.log(boldArr)\n    if (boldArr.length > 1) {\n      for (var m = 0; m < boldArr.length; m++) {\n        if (boldArr.length - m == 1) {\n          break;\n        }\n        selection2[i].sketchObject.addAttribute_value_forRange_(NSFontAttributeName, h1BoldFont, NSMakeRange(boldArr[m], boldArr[m + 1] - boldArr[m] + 2)); // NSMakeRange 定义设置样式文字位置\n        m += 1\n      }\n    }\n\n\n    //部分字体颜色\n    var colorArr = [];\n    console.log(\"```````\");\n    recordQueryIndex = 0;\n\n    while (selection2[i].text.indexOf('`', recordQueryIndex) != -1) {\n      console.log(selection2[i].text.indexOf('`', recordQueryIndex));\n      colorArr.push(selection2[i].text.indexOf('`', recordQueryIndex));\n      recordQueryIndex = selection2[i].text.indexOf('`', recordQueryIndex) + 1;\n    }\n\n    console.log(colorArr);\n\n    if (colorArr.length > 1) {\n      for (var l = 0; l < colorArr.length; l++) {\n        if (colorArr.length - l < 2) {\n          break;\n        }\n\n        if (l != 0) {\n          l += 1;\n        } //const h2BoldFont = NSFontManager.sharedFontManager().convertFont_toHaveTrait(selection2[i].sketchObject.font(), NSUnderlineStyleSingle);\n\n\n        selection2[i].sketchObject.addAttribute_value_forRange(NSForegroundColorAttributeName, NSColor.colorWithRed_green_blue_alpha(186 / 255, 33 / 255, 33 / 255, 1.0), NSMakeRange(colorArr[l], colorArr[l + 1] - colorArr[l] + 1)); // NSMakeRange 定义设置样式文字位置\n\n      }\n    }\n\n    //删除线\n\n    var underArr = []\n    console.log(\"~~~~\")\n    recordQueryIndex = 0\n\n    while (selection2[i].text.indexOf('~~', recordQueryIndex) != -1) {\n\n      console.log(selection2[i].text.indexOf('~~', recordQueryIndex))\n      underArr.push(selection2[i].text.indexOf('~~', recordQueryIndex))\n      recordQueryIndex = selection2[i].text.indexOf('~~', recordQueryIndex) + 1\n\n    }\n    console.log(underArr)\n    if (underArr.length > 1) {\n      for (var k = 0; k < underArr.length; k++) {\n        if (underArr.length - k == 1) {\n          break;\n        }\n        //const h2BoldFont = NSFontManager.sharedFontManager().convertFont_toHaveTrait(selection2[i].sketchObject.font(), NSUnderlineStyleSingle);\n        selection2[i].sketchObject.addAttribute_value_forRange(NSStrikethroughStyleAttributeName, NSUnderlineStyleSingle, NSMakeRange(underArr[k], underArr[k + 1] - underArr[k] + 2)); // NSMakeRange 定义设置样式文字位置\n        selection2[i].sketchObject.addAttribute_value_forRange(NSForegroundColorAttributeName, NSColor.colorWithRed_green_blue_alpha(153 / 255, 153 / 255, 153 / 255, 1.0), NSMakeRange(underArr[k], underArr[k + 1] - underArr[k] + 2)); // NSMakeRange 定义设置样式文字位置\n\n        k += 1\n      }\n    }\n\n\n\n  }\n\n  //selectionLayer.stringValue())\n\n  //console.log(selection.length)\n  //console.log(sketch.getSelectedDocument().selectedLayers.length)\n\n\n  function main(rowStr, layer) {\n    var markEnd\n    var keyValue\n    var strInAllStart, strInAllEnd\n\n    markEnd = rowStr.indexOf(' ')\n    keyValue = rowStr.substring(0, markEnd)\n    console.log(\"rowStr: \" + rowStr)\n    console.log(\"keyValue: \" + keyValue)\n\n    //find thisStr in allStr index\n    strInAllStart = layer.text.indexOf(rowStr, recordQueryIndex)\n    if (strInAllStart != 0) {\n      //strInAllStart+=2\n    }\n    //console.log(\"layer.stringValue(): \"+layer.stringValue().replace(/\\n/g,\"\"))\n    console.log(\"layer.stringValue(): \" + layer.text)\n    strInAllEnd = rowStr.length\n    recordQueryIndex += rowStr.length\n    console.log(\"start,end: \")\n    console.log(strInAllStart)\n    console.log(strInAllEnd)\n\n    switch (keyValue) {\n      case \"#\":\n        layer = setHeading1(layer, strInAllStart, strInAllEnd)\n        break;\n      case \"##\":\n        layer = setHeading2(layer, strInAllStart, strInAllEnd)\n        break;\n      default:\n        layer = setDesc(layer, strInAllStart, strInAllEnd)\n    }\n    return layer\n  }\n\n\n  function setHeading1(layer, start, end) {\n    console.log('setHeading1')\n    //layer = layer.sketchObject\n    //fontSize\n    console.log(start)\n    console.log(end)\n    console.log(layer.text)\n    console.log(\"------\")\n    console.log(layer.text.substring(start, start + end))\n\n    //layer = layer.sketchObject\n\n    const h1BoldFont = NSFontManager.sharedFontManager().convertFont_toHaveTrait(layer.sketchObject.font(), NSBoldFontMask);\n    //layer.sketchObject.addAttribute_value_forRange_(NSFontAttributeName,h1BoldFont, NSMakeRange(start, end)); // NSMakeRange 定义设置样式文字位置\n\n    const h1FontSize = NSFontManager.sharedFontManager().convertFont_toSize(h1BoldFont, 28.0);\n    layer.sketchObject.addAttribute_value_forRange_(NSFontAttributeName, h1FontSize, NSMakeRange(start, end)); // NSMakeRange 定义设置样式文字位置\n\n\n    return layer\n  }\n\n  function setHeading2(layer, start, end) {\n    console.log('setHeading2')\n    console.log(start)\n    console.log(end)\n    console.log(\"layer.stringValue().substring(start,start+end): \")\n    console.log(layer.text)\n    console.log(\"------\")\n    console.log(layer.text.substring(start, start + end))\n\n    //layer = layer.sketchObject\n\n    const h2BoldFont = NSFontManager.sharedFontManager().convertFont_toHaveTrait(layer.sketchObject.font(), NSBoldFontMask);\n    //layer.sketchObject.addAttribute_value_forRange_(NSFontAttributeName,h2BoldFont, NSMakeRange(start, end)); // NSMakeRange 定义设置样式文字位置\n\n    const h2FontSize = NSFontManager.sharedFontManager().convertFont_toSize(h2BoldFont, 28.0);\n    layer.sketchObject.addAttribute_value_forRange_(NSFontAttributeName, h2FontSize, NSMakeRange(start, end)); // NSMakeRange 定义设置样式文字位置\n\n\n\n\n    return layer\n\n  }\n\n  function setDesc(layer, start, end) {\n    console.log('setDesc')\n    console.log(layer.text)\n    console.log(\"------\")\n    console.log(layer.text.substring(start, start + end))\n    //layer = layer.sketchObject\n\n    const descBoldFont = NSFontManager.sharedFontManager().convertFont_toHaveTrait(layer.sketchObject.font(), NSUnboldFontMask);\n    layer.sketchObject.addAttribute_value_forRange_(NSFontAttributeName, descBoldFont, NSMakeRange(start, end)); // NSMakeRange 定义设置样式文字位置\n\n    const descFontSize = NSFontManager.sharedFontManager().convertFont_toSize(descBoldFont, 28.0);\n    layer.sketchObject.addAttribute_value_forRange_(NSFontAttributeName, descFontSize, NSMakeRange(start, end)); // NSMakeRange 定义设置样式文字位置\n\n    //layer.sketchObject.addAttribute_value_forRange_(NSFontAttributeName,descBoldFont, NSMakeRange(start, end)); // NSMakeRange 定义设置样式文字位置\n\n\n    return layer\n  }\n}","module.exports = require(\"sketch\");"],"sourceRoot":""}