{"version":3,"sources":["webpack://exports/webpack/bootstrap","webpack://exports/./src/my-command.js","webpack://exports/external \"sketch\""],"names":["sketch","require","console","log","context","selection","selection1","selection2","getSelectedDocument","selectedLayers","layers","length","UI","message","text","LayerTextArr","masterLayerWidth","recordQueryIndex","i","class","frame","width","split","setLineHeight","textAlignment","NSTextAlignmentLeft","setWidth","sketchObject","addAttribute_value_forRange","NSStrikethroughStyleAttributeName","NSUnderlineStyleNone","NSMakeRange","UnoldFont","NSFontManager","sharedFontManager","convertFont_toHaveTrait","font","NSUnboldFontMask","addAttribute_value_forRange_","NSFontAttributeName","immutableColor","MSImmutableColor","colorWithSVGString_","color","MSColor","alloc","initWithImmutableObject_","setTextColor","j","main","underArr","indexOf","push","k","NSUnderlineStyleSingle","boldArr","h1BoldFont","NSBoldFontMask","m","colorArr","l","NSForegroundColorAttributeName","NSColor","colorWithRed_green_blue_alpha","rowStr","layer","markEnd","keyValue","strInAllStart","strInAllEnd","substring","setHeading1","setHeading2","setDesc","start","end","h1FontSize","convertFont_toSize","h2BoldFont","h2FontSize","descBoldFont","descFontSize"],"mappings":"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","file":"__my-command.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/my-command.js\");\n","var sketch = require('sketch')\n\nexport default function () {\n\n\n  console.log(context.selection)\n  var selection1 = context.selection //当前选中图层的数组，用于设置样式\n  var selection2 = sketch.getSelectedDocument().selectedLayers.layers//当前选中图层的数组，长度与 selection1 是一样的，用于解析每行的字符串\n\n  if (selection2.length == 0) {\n    sketch.UI.message('⚠️请先选中文本');\n    return\n  }\n\n  console.log(selection2[0].text)\n  var LayerTextArr\n  var masterLayerWidth = 0\n  var recordQueryIndex = 0;\n\n  //如果选中图层中存在非文本图层，则获取期宽度，存在多个时取宽度最大的，此宽度作为文本图层的宽度\n  //如果选中图层中不存在非文本图层，则忽略\n  for (var i = 0; i < selection2.length; i++) {\n    \n    console.log(\"=============================i: \")\n    console.log(i)\n    if (selection1[i].class() != \"MSTextLayer\") {\n      console.log('selection1[i].class()!=\"MSTextLayer\"')\n      if(selection1[i].frame().width()>masterLayerWidth){\n        //取宽度最大的图层作为参考\n        masterLayerWidth = selection1[i].frame().width()\n      }\n      continue\n    }\n  }\n\n  for (var i = 0; i < selection2.length; i++) {\n    recordQueryIndex = 0\n    //return\n    //console.log(layer.stringValue())\n    console.log(\"=============================i: \")\n    console.log(i)\n    if (selection1[i].class() != \"MSTextLayer\") {\n      console.log('selection1[i].class()!=\"MSTextLayer\"')\n      continue\n    }\n    LayerTextArr = selection2[i].text.split(\"\\n\") //将文本段落按行进行拆分，获得一个每行字符串的数组\n    console.log(\"LayerTextArr: \")\n    console.log(LayerTextArr)\n    console.log(selection1[i].class())\n\n    selection1[i].setLineHeight(24) // 行高\n    selection1[i].textAlignment = NSTextAlignmentLeft //对齐方式\n    if(masterLayerWidth>0){\n      selection1[i].frame().setWidth(masterLayerWidth) // 宽度\n    }\n    \n\n    //初始化加粗、删除线样式\n    selection2[i].sketchObject.addAttribute_value_forRange(NSStrikethroughStyleAttributeName, NSUnderlineStyleNone, NSMakeRange(0, selection2[i].text.length)); // NSMakeRange 定义设置样式文字位置\n    var UnoldFont = NSFontManager.sharedFontManager().convertFont_toHaveTrait(selection2[i].sketchObject.font(), NSUnboldFontMask);\n    selection2[i].sketchObject.addAttribute_value_forRange_(NSFontAttributeName, UnoldFont, NSMakeRange(0, selection2[i].text.length)); // NSMakeRange 定义设置样式文字位置\n\n    var immutableColor = MSImmutableColor.colorWithSVGString_('#333333');\n    var color = MSColor.alloc().initWithImmutableObject_(immutableColor);\n    selection1[i].setTextColor(color)\n\n    for (var j = 0; j < LayerTextArr.length; j++) {\n      //处理每行字符串的样式,传入单行字符串、此图层的文本段落\n      console.log(\"==========\")\n      //console.log(selection1[i].stringValue())\n      console.log(\"LayerTextArr[j]: \")\n      console.log(LayerTextArr[j])\n      //main(LayerTextArr[j],selection2[i])\n      selection2[i] = main(LayerTextArr[j], selection2[i])\n\n    }\n\n\n    //删除线\n\n    var underArr = []\n    console.log(\"~~~~\")\n    recordQueryIndex = 0\n\n    while (selection2[i].text.indexOf('~~', recordQueryIndex) != -1) {\n\n      console.log(selection2[i].text.indexOf('~~', recordQueryIndex))\n      underArr.push(selection2[i].text.indexOf('~~', recordQueryIndex))\n      recordQueryIndex = selection2[i].text.indexOf('~~', recordQueryIndex) + 1\n\n    }\n    console.log(underArr)\n    if (underArr.length > 1) {\n      for (var k = 0; k < underArr.length; k++) {\n        if (underArr.length - k == 1) {\n          break;\n        }\n        //const h2BoldFont = NSFontManager.sharedFontManager().convertFont_toHaveTrait(selection2[i].sketchObject.font(), NSUnderlineStyleSingle);\n        selection2[i].sketchObject.addAttribute_value_forRange(NSStrikethroughStyleAttributeName, NSUnderlineStyleSingle, NSMakeRange(underArr[k], underArr[k + 1] - underArr[k] + 2)); // NSMakeRange 定义设置样式文字位置\n        k += 1\n      }\n    }\n\n\n    //加粗\n\n    var boldArr = []\n    recordQueryIndex = 0\n\n    console.log(\"**********\")\n    var h1BoldFont = NSFontManager.sharedFontManager().convertFont_toHaveTrait(selection2[i].sketchObject.font(), NSBoldFontMask);\n    while (selection2[i].text.indexOf('**', recordQueryIndex) != -1) {\n\n      console.log(selection2[i].text.indexOf('**', recordQueryIndex))\n      boldArr.push(selection2[i].text.indexOf('**', recordQueryIndex))\n      recordQueryIndex = selection2[i].text.indexOf('**', recordQueryIndex) + 1\n\n    }\n    console.log(boldArr)\n    if (boldArr.length > 1) {\n      for (var m = 0; m < boldArr.length; m++) {\n        if (boldArr.length - m == 1) {\n          break;\n        }\n        selection2[i].sketchObject.addAttribute_value_forRange_(NSFontAttributeName, h1BoldFont, NSMakeRange(boldArr[m], boldArr[m + 1] - boldArr[m] + 2)); // NSMakeRange 定义设置样式文字位置\n        m += 1\n      }\n    }\n\n\n    //部分字体颜色\n    var colorArr = [];\n    console.log(\"```````\");\n    recordQueryIndex = 0;\n\n    while (selection2[i].text.indexOf('`', recordQueryIndex) != -1) {\n      console.log(selection2[i].text.indexOf('`', recordQueryIndex));\n      colorArr.push(selection2[i].text.indexOf('`', recordQueryIndex));\n      recordQueryIndex = selection2[i].text.indexOf('`', recordQueryIndex) + 1;\n    }\n\n    console.log(colorArr);\n\n    if (colorArr.length > 1) {\n      for (var l = 0; l < colorArr.length; l++) {\n        if (colorArr.length - l < 2) {\n          break;\n        }\n\n        if (l != 0) {\n          l += 1;\n        } //const h2BoldFont = NSFontManager.sharedFontManager().convertFont_toHaveTrait(selection2[i].sketchObject.font(), NSUnderlineStyleSingle);\n\n\n        selection2[i].sketchObject.addAttribute_value_forRange(NSForegroundColorAttributeName, NSColor.colorWithRed_green_blue_alpha(98 / 255, 54 / 255, 255 / 255, 1.0), NSMakeRange(colorArr[l], colorArr[l + 1] - colorArr[l] + 1)); // NSMakeRange 定义设置样式文字位置\n\n      }\n    }\n\n\n  }\n\n  //selectionLayer.stringValue())\n\n  //console.log(selection.length)\n  //console.log(sketch.getSelectedDocument().selectedLayers.length)\n\n\n  function main(rowStr, layer) {\n    var markEnd\n    var keyValue\n    var strInAllStart, strInAllEnd\n\n    markEnd = rowStr.indexOf(' ')\n    keyValue = rowStr.substring(0, markEnd)\n    console.log(\"rowStr: \" + rowStr)\n    console.log(\"keyValue: \" + keyValue)\n\n    //find thisStr in allStr index\n    strInAllStart = layer.text.indexOf(rowStr, recordQueryIndex)\n    if (strInAllStart != 0) {\n      //strInAllStart+=2\n    }\n    //console.log(\"layer.stringValue(): \"+layer.stringValue().replace(/\\n/g,\"\"))\n    console.log(\"layer.stringValue(): \" + layer.text)\n    strInAllEnd = rowStr.length\n    recordQueryIndex += rowStr.length\n    console.log(\"start,end: \")\n    console.log(strInAllStart)\n    console.log(strInAllEnd)\n\n    switch (keyValue) {\n      case \"#\":\n        layer = setHeading1(layer, strInAllStart, strInAllEnd)\n        break;\n      case \"##\":\n        layer = setHeading2(layer, strInAllStart, strInAllEnd)\n        break;\n      default:\n        layer = setDesc(layer, strInAllStart, strInAllEnd)\n    }\n    return layer\n  }\n\n\n  function setHeading1(layer, start, end) {\n    console.log('setHeading1')\n    //layer = layer.sketchObject\n    //fontSize\n    console.log(start)\n    console.log(end)\n    console.log(layer.text)\n    console.log(\"------\")\n    console.log(layer.text.substring(start, start + end))\n\n    //layer = layer.sketchObject\n\n    const h1BoldFont = NSFontManager.sharedFontManager().convertFont_toHaveTrait(layer.sketchObject.font(), NSBoldFontMask);\n    //layer.sketchObject.addAttribute_value_forRange_(NSFontAttributeName,h1BoldFont, NSMakeRange(start, end)); // NSMakeRange 定义设置样式文字位置\n\n    const h1FontSize = NSFontManager.sharedFontManager().convertFont_toSize(h1BoldFont, 14.0);\n    layer.sketchObject.addAttribute_value_forRange_(NSFontAttributeName, h1FontSize, NSMakeRange(start, end)); // NSMakeRange 定义设置样式文字位置\n\n\n    return layer\n  }\n\n  function setHeading2(layer, start, end) {\n    console.log('setHeading2')\n    console.log(start)\n    console.log(end)\n    console.log(\"layer.stringValue().substring(start,start+end): \")\n    console.log(layer.text)\n    console.log(\"------\")\n    console.log(layer.text.substring(start, start + end))\n\n    //layer = layer.sketchObject\n\n    const h2BoldFont = NSFontManager.sharedFontManager().convertFont_toHaveTrait(layer.sketchObject.font(), NSBoldFontMask);\n    //layer.sketchObject.addAttribute_value_forRange_(NSFontAttributeName,h2BoldFont, NSMakeRange(start, end)); // NSMakeRange 定义设置样式文字位置\n\n    const h2FontSize = NSFontManager.sharedFontManager().convertFont_toSize(h2BoldFont, 14.0);\n    layer.sketchObject.addAttribute_value_forRange_(NSFontAttributeName, h2FontSize, NSMakeRange(start, end)); // NSMakeRange 定义设置样式文字位置\n\n\n\n\n    return layer\n\n  }\n\n  function setDesc(layer, start, end) {\n    console.log('setDesc')\n    console.log(layer.text)\n    console.log(\"------\")\n    console.log(layer.text.substring(start, start + end))\n    //layer = layer.sketchObject\n\n    const descBoldFont = NSFontManager.sharedFontManager().convertFont_toHaveTrait(layer.sketchObject.font(), NSUnboldFontMask);\n    layer.sketchObject.addAttribute_value_forRange_(NSFontAttributeName, descBoldFont, NSMakeRange(start, end)); // NSMakeRange 定义设置样式文字位置\n\n    const descFontSize = NSFontManager.sharedFontManager().convertFont_toSize(descBoldFont, 14.0);\n    layer.sketchObject.addAttribute_value_forRange_(NSFontAttributeName, descFontSize, NSMakeRange(start, end)); // NSMakeRange 定义设置样式文字位置\n\n    //layer.sketchObject.addAttribute_value_forRange_(NSFontAttributeName,descBoldFont, NSMakeRange(start, end)); // NSMakeRange 定义设置样式文字位置\n\n\n    return layer\n  }\n}","module.exports = require(\"sketch\");"],"sourceRoot":""}